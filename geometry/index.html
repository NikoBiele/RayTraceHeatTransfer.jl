<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Generate and mesh geometry · Documentation</title><meta name="title" content="Generate and mesh geometry · Documentation"/><meta property="og:title" content="Generate and mesh geometry · Documentation"/><meta property="twitter:title" content="Generate and mesh geometry · Documentation"/><meta name="description" content="Documentation for Documentation."/><meta property="og:description" content="Documentation for Documentation."/><meta property="twitter:description" content="Documentation for Documentation."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="Documentation logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../gettingstarted/">Getting started</a></li><li><span class="tocitem">Usage</span><ul><li class="is-active"><a class="tocitem" href>Generate and mesh geometry</a></li><li><a class="tocitem" href="../raytracing/">Ray trace the geometry</a></li><li><a class="tocitem" href="../heattransfer/">Calculate heat transfer</a></li><li><a class="tocitem" href="../viewfactor/">View Factors in 3D</a></li></ul></li><li><a class="tocitem" href="../validation/">Code Validation</a></li><li><a class="tocitem" href="../code/">Code</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Usage</a></li><li class="is-active"><a href>Generate and mesh geometry</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Generate and mesh geometry</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/NikoBiele/RayTraceHeatTransfer.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/NikoBiele/RayTraceHeatTransfer.jl/blob/main/docs/src/geometry.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h3 id="Generate-and-mesh-geometry"><a class="docs-heading-anchor" href="#Generate-and-mesh-geometry">Generate and mesh geometry</a><a id="Generate-and-mesh-geometry-1"></a><a class="docs-heading-anchor-permalink" href="#Generate-and-mesh-geometry" title="Permalink"></a></h3><p>In this section it will be shown how to build geometries using this package.</p><p>We start by importing the package</p><pre><code class="language-julia hljs">using RayTraceHeatTransfer</code></pre><p>The geometry is built by a number of non-overlapping convex &quot;SubEnclosures&quot;. The &quot;SubEnclosures&quot; always consist of four bounding points and they should always be convex (no internal angles above 180°). Non-convex shapes should be split into smaller convex &quot;SubEnclosures&quot;. The reason that the &quot;SubEnclosures&quot; should be convex is that it makes the ray tracing more efficient. Here we define a 1x1 square (a single sub-enclosure).</p><p>We start by defining an empty vector of &quot;SubEnclosures&quot;.</p><pre><code class="language-julia hljs">subs = SubEnclosure[]</code></pre><p>Now we can make one SubEnclosure at a time and push it into the vector. When specifying a SubEnclosure the inputs are as follows: The first four inputs are the bounding points, going in the counter clockwise direction. The next four inputs specifies whether the walls are solid or empty, which is important when connecting more SubEnclosures. The outer wall should always be solid for the ray tracing to work. The first wall is between point1 and point2 and so on, and the last wall is between point4 and point1.</p><pre><code class="language-julia hljs">sub1 = SubEnclosure([0.0, 0.0],[1.0, 0.0],[1.0, 1.0],[0.0, 1.0],true,true,true,true)
push!(subs, sub1)</code></pre><p>After adding a sub it is recommended to always ensure that it was correctly added. This can be done using the &#39;displayGeometry&#39; function, which plots any number of SubEnclosures stored in a vector.</p><pre><code class="language-julia hljs">displayGeometry(subs)</code></pre><p><img src="../oneSubEnclosure.png" alt="plot"/></p><p>If the last added SubEnclosure is not satisfactory we can remove it and try again.</p><pre><code class="language-julia hljs">pop!(subs)</code></pre><p>Then we can keep adding SubEnclosures to our geometry (and popping if we&#39;re not satisfied). It is recommended to display the geometry after each added subEnclosure.</p><pre><code class="language-julia hljs">sub1 = SubEnclosure([0.0, 0.0],[1.0, 0.0],[2.0, 1.0],[0.0, 1.0],true,true,false,true)
push!(subs, sub1)
displayGeometry(subs)

sub2 = SubEnclosure([0.0, 1.0],[2.0, 1.0],[1.0, 2.0],[-0.5, 1.5],false,true,false,true)
push!(subs, sub2)
displayGeometry(subs)

sub3 = SubEnclosure([-0.5, 1.5],[1.0, 2.0],[1.0, 3.0],[-1.0, 4.0],false,true,false,true)
push!(subs, sub3)
displayGeometry(subs)

sub4 = SubEnclosure([-1.0, 4.0],[1.0, 3.0],[4.0, 3.0],[4.0, 4.0],false,true,true,true)
push!(subs, sub4)
displayGeometry(subs)</code></pre><p>Viewing the final result. Notice that the subEnclosures are numbered incrementally and internal faces are shown as &#39;empty&#39; while the outer surfaces are &#39;solid&#39;. This will be important for defining boundary conditions when calculating heat transfer.</p><p><img src="../fourSubEnclosures.png" alt="plot"/></p><p>When we are finally satisfied with our geometry we can move on to meshing it. The fineness of the meshing decides the resolution of or our heat transfer calculations. We specifiy the number of splits in each SubEnclosure. In this case each SubEnclosure will be split into 11x11 cells.</p><pre><code class="language-julia hljs">Ndim = 11</code></pre><p>Now we are ready to mesh the geometry. This is achieved by creating an instance of the RayTracingMesh type. The function which generates this type takes as input a vector of SubEnclosures and the number of splits.</p><pre><code class="language-julia hljs">mesh1 = RayTracingMesh(subs,Ndim);
displayMesh(mesh1)</code></pre><p><img src="../fourSubEnclosuresMesh.png" alt="plot"/></p><p>Now that the geometry has been meshed we&#39;re ready to ray trace it.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../gettingstarted/">« Getting started</a><a class="docs-footer-nextpage" href="../raytracing/">Ray trace the geometry »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Saturday 6 April 2024 21:36">Saturday 6 April 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
